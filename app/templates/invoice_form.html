{% extends "layout.html" %}
{% block content %}
<h2 class="mb-4">{{ title }}</h2>

<form method="POST" enctype="multipart/form-data">
  {{ form.hidden_tag() }}

  <div class="mb-3">
    {{ form.invoice_number.label(class="form-label") }}
    {{ form.invoice_number(class="form-control") }}
  </div>

  <div class="mb-3">
    <label for="vendor_id" class="form-label">Vendor</label>
    <select class="form-select" name="vendor_id" required>
      {% for vendor in vendors %}
      <option value="{{ vendor.id }}">{{ vendor.name }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-3">
    {{ form.amount.label(class="form-label") }}
    {{ form.amount(class="form-control") }}
  </div>

  <div class="mb-3">
    {{ form.status.label(class="form-label") }}
    {{ form.status(class="form-select") }}
  </div>

  <div class="mb-3">
    {{ form.category.label(class="form-label") }}
    {{ form.category(class="form-control") }}
    <div class="form-text">Leave blank to auto-categorize</div>
  </div>

  <div class="mb-3">
    {{ form.due_date.label(class="form-label") }}
    {{ form.due_date(class="form-control") }}
  </div>

  <div class="mb-3">
    {{ form.tags.label(class="form-label") }}
    {{ form.tags(class="form-control") }}
    <div class="form-text">Comma-separated tags (e.g. "urgent, Q2, taxes")</div>
  </div>

  <div class="form-check mb-3">
    {{ form.approved(class="form-check-input") }}
    {{ form.approved.label(class="form-check-label") }}
  </div>

  <div class="mb-3">
    <label class="form-label">Invoice PDF</label>
    <input class="form-control" type="file" name="file" accept="application/pdf" required />
  </div>

  <button type="submit" class="btn btn-primary">{{ form.submit.label.text }}</button>
  <a href="{{ url_for('main.invoices') }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}
